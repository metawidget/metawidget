<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>Address Book (Metawidget Web Component Example)</title>
		<link rel="stylesheet" type="text/css" href="css/addressbook.css" media="all"/>
		<link rel="stylesheet" type="text/css" href="css/framework-specific-addressbook.css" media="all"/>
		<script src="lib/polymer/platform.js" type="text/javascript"></script>
		<script src="lib/polymer/object.observe.poly.js" type="text/javascript"></script>
		<script src="lib/metawidget/core/metawidget-core.min.js" type="text/javascript"></script>
		<script src="js/app.js" type="text/javascript"></script>
		<script src="js/contacts.js" type="text/javascript"></script>
		<script src="js/contact.js" type="text/javascript"></script>
	</head>
	<body>

		<div id="page-image">
			<img src="media/addressbook.gif" alt=""/>
		</div>

		<div id="content">

			<!-- Summary -->

			<x-metawidget path="addressbook.search" config="addressbook.searchConfig">
				<facet name="footer">
					<x-metawidget path="addressbook.searchActions" config="addressbook.searchActionsConfig"></x-metawidget>
				</facet>
			</x-metawidget>

			<table class="data-table">
				<thead>
					<tr>
						<th class="column-half">Name</th>
						<th class="column-half">Contact</th>
						<th class="column-tiny">&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<template id="summary-table-rows" repeat="{{contacts}}">
						<tr>
							<td class="column-half">
								<a href="javascript:addressbook.load({{id}})">
									{{title}} {{firstname}} {{surname}}
								</a>
							</td>
							<td class="column-half">
							</td>
							<td class="column-tiny">
								<img src="media/{{type}}-small.gif" alt="Personal Contact"/>
							</td>
						</tr>
					</template>
				</tbody>
			</table>

			<!-- Detail -->

			<div id="dialog-position">
				<div id="dialog">
					<div id="dialog-heading">
						{{dialogTitle}}
					</div>
					<div id="dialog-content">
						<img id="dialog-image" ng-src="media/{{current.type}}.gif" alt=""/>
						<x-metawidget id="detail" path="addressbook.current" config="addressbook.currentConfig">
							<table id="communications" class="data-table">
								<thead>
									<tr>
										<th class="column-half">Type</th>
										<th class="column-half">Value</th>
										<th class="column-tiny"></th>
									</tr>
								</thead>
								<tbody>
									<template id="detail-table-rows" repeat="{{communications}}">
										<tr>
											<td class="column-half">{{type}}</td>
											<td class="column-half">{{value}}</td>
										</tr>
									</template>
								</tbody>
							</table>
							<facet name="footer">
								<x-metawidget path="addressbook.crudActions" config="addressbook.crudActionsConfig"></x-metawidget>
							</facet>
						</x-metawidget>
					</div>
				</div>
			</div>
		</div>

	</body>
</html>
